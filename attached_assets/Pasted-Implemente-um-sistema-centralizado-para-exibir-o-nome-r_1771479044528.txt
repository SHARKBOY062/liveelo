Implemente um sistema centralizado para exibir o nome retornado pela API acima do CPF e reutilizar esses dados automaticamente em todo o site, impedindo preenchimento manual inv√°lido.

üéØ OBJETIVO

Ap√≥s consultar o CPF:

‚úîÔ∏è Mostrar nome em uma caixa pr√≥pria
‚úîÔ∏è Mostrar CPF abaixo
‚úîÔ∏è Travar campos manuais
‚úîÔ∏è Reutilizar dados em todo site
‚úîÔ∏è Impedir dados aleat√≥rios

üß© 1Ô∏è‚É£ CRIAR CAIXA DO USU√ÅRIO (HTML)

Na tela ‚ÄúCadastro Validado‚Äù, acima do CPF, adicionar:

<div class="box-usuario">

  <p class="titulo-usuario">Dados Identificados</p>

  <h3 id="nomeUsuarioBox"></h3>

  <p>CPF: <span id="cpfUsuarioBox"></span></p>

</div>

üé® 2Ô∏è‚É£ ESTILO DA CAIXA (CSS)

Adicionar no style.css:

.box-usuario {
  background: #fce4f1;
  border: 1px solid #ec008c;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
  text-align: center;
}

.titulo-usuario {
  font-size: 12px;
  color: #ec008c;
  font-weight: 600;
  margin-bottom: 5px;
}

.box-usuario h3 {
  font-size: 17px;
  color: #222;
  font-weight: 600;
}

.box-usuario p {
  font-size: 14px;
  color: #666;
}

‚öôÔ∏è 3Ô∏è‚É£ SALVAR DADOS DA API (JS)

Na consulta de CPF, garantir:

localStorage.setItem("nomeUsuario", nome);
localStorage.setItem("cpfUsuario", cpf);

üß© 4Ô∏è‚É£ MOSTRAR NA CAIXA (JS)

Em todas as p√°ginas que exibem dados:

window.addEventListener("load", function() {

  const nome = localStorage.getItem("nomeUsuario");
  const cpf = localStorage.getItem("cpfUsuario");

  if (nome && cpf) {

    const nomeBox = document.getElementById("nomeUsuarioBox");
    const cpfBox = document.getElementById("cpfUsuarioBox");

    if (nomeBox) nomeBox.innerText = nome;
    if (cpfBox) cpfBox.innerText = cpf;

  }

});

üß© 5Ô∏è‚É£ BLOQUEAR DIGITA√á√ÉO MANUAL DE NOME/CPF

Em qualquer formul√°rio do site, substituir:

‚ùå Campos livres:

<input type="text">


‚úÖ Por campos bloqueados:

<input id="nomeAuto" readonly>
<input id="cpfAuto" readonly>

‚öôÔ∏è 6Ô∏è‚É£ PREENCHER AUTOMATICAMENTE OS CAMPOS

No JS global:

window.addEventListener("load", function() {

  const nome = localStorage.getItem("nomeUsuario");
  const cpf = localStorage.getItem("cpfUsuario");

  if (nome) {

    document.querySelectorAll("#nomeAuto").forEach(campo => {
      campo.value = nome;
    });

  }

  if (cpf) {

    document.querySelectorAll("#cpfAuto").forEach(campo => {
      campo.value = cpf;
    });

  }

});

üß© 7Ô∏è‚É£ BLOQUEAR CONTINUA√á√ÉO SEM API

Antes de avan√ßar p√°ginas:

function validarSessao() {

  const nome = localStorage.getItem("nomeUsuario");
  const cpf = localStorage.getItem("cpfUsuario");

  if (!nome || !cpf) {

    alert("Por favor, consulte seu CPF antes de continuar.");

    window.location.href = "index.html";

  }

}


Chamar em todas as p√°ginas:

validarSessao();

üîí 8Ô∏è‚É£ PROTEGER FORMUL√ÅRIOS

Em qualquer envio:

if (!localStorage.getItem("cpfUsuario")) {

  alert("Sess√£o inv√°lida.");

  return;

}

‚úÖ RESULTADO FINAL

Depois disso:

‚úîÔ∏è Nome vem s√≥ da API
‚úîÔ∏è CPF vem s√≥ da API
‚úîÔ∏è Usu√°rio n√£o digita nada
‚úîÔ∏è N√£o passa fake
‚úîÔ∏è Mais confian√ßa
‚úîÔ∏è Fluxo profissional